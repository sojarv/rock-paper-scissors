<!DOCTYPE html>

<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Rock paper scissors</title>

</head>

<body>
    <script>
        function computerPlay() {
            let rnd = Math.random() * 3;
            let cmpPlay = '';
            if (rnd <= 1) {
                cmpPlay = 'rock';
            } else if (rnd <= 2) {
                cmpPlay = 'paper';
            } else {
                cmpPlay = 'scissors';
            }
            return cmpPlay;
        }

        function playRound(playerSelection, computerSelection) {
            ply = playerSelection.toLowerCase();
            cmp = computerSelection.toLowerCase();

            if (ply === cmp) {
                return 'It is a tie ' + ply + ' doesn\'t beat ' + cmp;
            } else {
                if (ply === 'rock') {
                    if (cmp === 'scissors') {
                        return 'Hey you won, ' + ply + ' beats ' + cmp;
                    } else {
                        return 'Oh no, you lost ' + ply + ' loses to ' + cmp
                    }

                } else if (ply === 'paper') {
                    if (cmp === 'rock') {
                        return 'Hey you won, ' + ply + ' beats ' + cmp;
                    } else {
                        return 'Oh no, you lost ' + ply + ' loses to ' + cmp
                    }

                } else if (ply === 'scissors') {
                    if (cmp === 'paper') {
                        return 'Hey you won, ' + ply + ' beats ' + cmp;
                    } else {
                        return 'Oh no, you lost ' + ply + ' loses to ' + cmp
                    }
                }
            }
        }

        function playRoundGame(playerSelection, computerSelection) {
            ply = playerSelection.toLowerCase();
            cmp = computerSelection.toLowerCase();


            if (ply === cmp) {
                return 0;
            } else {
                if (ply === 'rock') {
                    if (cmp === 'scissors') {
                        return 1;
                    } else {
                        return 2;
                    }

                } else if (ply === 'paper') {
                    if (cmp === 'rock') {
                        return 1;
                    } else {
                        return 2;
                    }

                } else if (ply === 'scissors') {
                    if (cmp === 'paper') {
                        return 1;
                    } else {
                        return 2;
                    }
                }
            }
        }

        function game() {

            let playerCount = 0;
            let computerCount = 0;

            for (let i = 0; i < 5; i++) {
                const computerSelection = computerPlay();
                const playerSelection = window.prompt();

                let result = playRoundGame(playerSelection, computerSelection);

                if (result === 1) {
                    playerCount += 1;
                    console.log('Player ' + playerCount + ' computer ' + computerCount);
                } else if (result === 2) {
                    computerCount += 1;
                    console.log('Player ' + playerCount + ' computer ' + computerCount);
                } else {
                    console.log('Player ' + playerCount + ' computer ' + computerCount);
                }

            }
            if (playerCount > computerCount) {
                console.log('You won!');
            } else if (playerCount < computerCount) {
                console.log('You lost!');
            } else {
                console.log('It is a tie.');
            }
        }

        game();
    </script>
</body>